{{ $featured_image := partials.Include "func/GetFeaturedImage.html" . }}
{{ if $featured_image }}
  {{ $featured_image_class := site.Params.featured_image_class | compare.Default "cover bg-top" }}
  <header class="{{ $featured_image_class }}" style="background-image: url('{{ $featured_image }}');">
    {{ $cover_dimming_class := site.Params.cover_dimming_class | compare.Default "bg-black-60" }}
    <div class="{{ $cover_dimming_class }}">
      {{ partials.Include "site-navigation.html" .}}
      <div style="padding: clamp(2.5rem, 6vw, 5rem) clamp(1rem, 5%, 2rem);">
        <h1 style="text-align: center !important; font-size: clamp(1.75rem, 5vw, 4.5rem); font-weight: 300; color: rgba(255,255,255,0.92); line-height: 1.2; margin: 0;">
          {{ .Title | compare.Default .Site.Title }}
        </h1>
        {{ with .Params.description }}
          <p style="text-align: center !important; font-size: clamp(1rem, 2vw, 1.375rem); font-weight: 300; color: rgba(255,255,255,0.8); max-width: 38rem; margin: 1.25rem auto 0; line-height: 1.65;">
            {{ . }}
          </p>
        {{ end }}
      </div>
    </div>
  </header>
{{ else }}
  <header>
    <div class="{{ .Site.Params.background_color_class | compare.Default "bg-black" }}">
      {{ partials.Include "site-navigation.html" . }}
      <div style="padding: clamp(1.5rem, 4vw, 3rem) clamp(1rem, 5%, 2rem);">
        <h1 style="text-align: center; font-size: clamp(1.75rem, 5vw, 4.5rem); font-weight: 300; color: #aaa; line-height: 1.2; margin: 0;">
          {{ .Title | compare.Default .Site.Title }}
        </h1>
        {{ with .Params.description }}
          <p style="text-align: center; font-size: clamp(1rem, 2vw, 1.375rem); font-weight: 300; color: rgba(255,255,255,0.8); max-width: 38rem; margin: 1.25rem auto 0; line-height: 1.65;">
            {{ . }}
          </p>
        {{ end }}
      </div>
    </div>
  </header>
{{ end }}
